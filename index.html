<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="./css/all.css">
    <link rel="shortcut icon" href="images/icon.ico" />
    <title>直心巷</title>
</head>
<body>
    <!-- <div class="loading">
        <img src="./images/loading.gif" alt="">
    </div> -->
    <div class="warp">
        <header>
            <h1 class="logo">直心巷</h1>
            <ul class="menu">
                <li>
                    <a href="javascript: void(0)" class="menubtn1">直心八德</a>
                    <ul class="menubtn1Show">
                        <li>
                            <a href="index.html">墅的發生</a>
                        </li>
                        <li>
                            <a href="page2.html">神隱交通</a>
                        </li>
                        <li>
                            <a href="page3.html">生活片段</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="javascript: void(0)" class="menubtn2">植心建築</a>
                    <ul class="menubtn2Show">
                        <li>
                            <a href="page4.html">張景堯築跡</a>
                        </li>
                        <li>
                            <a href="page5.html">群祥藝術家</a>
                        </li>
                        <li>
                            <a href="page6.html">國際俬別墅</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="javascript: void(0)" class="menubtn3">質心空間</a>
                    <ul class="menubtn3Show">
                        <li>
                            <a href="pager7.html">內在的風景</a>
                        </li>
                        <li>
                            <a href="page8.html">智慧型建築</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="page9.html" class="menubtn4">預約賞屋</a>
                </li>
            </ul>
            <a href="javascript: void(0)" class="mobileBtn"><i class="fas fa-bars"></i></a>
            <a href="javascript: void(0)" class="mobileClose"><i class="fas fa-times"></i></a>
        </header>
        <!-- 手機選單 -->
        <ul class="mobile_menu">
            <li>
                <a href="javascript: void(0)" class="mobileMenuBtn1">直心八德</a>
                <ul class="mobileMenu1">
                    <li>
                        <a href="index.html" class="mobileNav">墅的發生</a>
                    </li>
                    <li>
                        <a href="page2.html" class="mobileNav">神隱交通</a>
                    </li>
                    <li>
                        <a href="page3.html" class="mobileNav">生活片段</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="javascript: void(0)" class="mobileMenuBtn2">植心建築</a>
                <ul class="mobileMenu2">
                    <li>
                        <a href="page4.html" class="mobileNav">張景堯築跡</a>
                    </li>
                    <li>
                        <a href="page5.html" class="mobileNav">群祥藝術家</a>
                    </li>
                    <li>
                        <a href="page6.html" class="mobileNav">國際俬別墅</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="javascript: void(0)" class="mobileMenuBtn3">質心空間</a>
                <ul class="mobileMenu3">
                    <li>
                        <a href="pager7.html" class="mobileNav">內在的風景</a>
                    </li>
                    <li>
                        <a href="page8.html" class="mobileNav">智慧型建築</a>
                    </li>
                </ul>
            </li>
            <li><a href="page9.html">預約賞屋</a></li>
        </ul>
        <!-- 表尾 -->
        <main class="d-flex main_index">
            <div class="mask d-flex">
                <h2>最美的距離</h2>
                <h3>MAKE IT HAPPEN</h3>
                <p>
                    「距離」產生別墅，別墅自然不在城裡。<br>
                    群祥首選八德擴大重劃，離塵不離城，<br>
                    國道接軌世界，土地平曠屋舍儼然，<br>
                    田園風光四季溫宜。<br>
                    難得【直心巷】，<br>
                    不遠山裡、不舟車勞頓、不冷冽濕意，<br>
                    在平地即可享受自然野趣別墅生活。
                </p>
            </div>
            <div class="banner">
                <div class="mobile_nav d-flex">
                    <div class="arror_left"></div>
                    <div class="arror_right"></div>
                </div>
            </div>
            <!-- //小樹 -->
            <div class="tree">
                <img src="./images/tree.png" alt="tree.png">
            </div>
            <!-- //小圖 -->
            <ul class="d-flex bottomNav">
                <li id="photBtn1"><img src="./images/space_bannerSma01.png" alt="bannerSma01.png"></li>
                <li id="photBtn2"><img src="./images/space_bannerSma02.png" alt="bannerSma02.png"></li>
                <li id="photBtn3"><img src="./images/space_bannerSma03.png" alt="bannerSma03.png"></li>
            </ul>
        </main>
        <footer>
            <div class="footer_nav d-flex align-items-center h-100">
                <ul class="d-flex align-items-center h-100">
                    <li><p>手作建築 國際別墅</p></li>
                    <li><p>120-150坪</p></li>
                    <li><span>訂房專線</span><a href="tel:+886-3-3653650">03-365-3650</a></li>
                    <li><p>豐田路255巷1號</p></li>
                    <li><a href="javascript: void(0)" class="ShowMap">MAP</a></li>
                </ul>
                <a href="javascript: void(0)" class="repalyBtn">REPALY</a>
            </div>
        </footer>
        <div class="mapPic">
                <img src="./images/mapPic.png" alt="地圖.png">
                <span class="btnConse"></span>
        </div>
    </div>
    <!-- warp -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- js部分 -->
    <script>
        // 滑過選單效果
        $(document).ready(function() {
            $('.menubtn1').mouseenter(function() {
                $('.menubtn1Show').slideToggle();
            })
            $('.menubtn1Show').mouseleave(function() {
                $('.menubtn1Show').slideToggle();
            })
            $('.menubtn2').mouseenter(function() {
                $('.menubtn2Show').slideToggle();
            })
            $('.menubtn2Show').mouseleave(function() {
                    $('.menubtn2Show').slideToggle();
            })
            $('.menubtn3').mouseenter(function() {
                $('.menubtn3Show').slideToggle();
            })
            $('.menubtn3Show').mouseleave(function() {
                    $('.menubtn3Show').slideToggle();
            })
            let htmlWidth = $("html").width();
            //地圖
            function pcShowMap() {
                if(htmlWidth>769){
                    $('.ShowMap').click(function(e) {
                        // preventDefault();
                        $('.mapPic').animate({bottom:"10%"},500);
                    })
                    $('.btnConse').click(function(e) {
                        // preventDefault();
                        $('.mapPic').animate({bottom:"-50%"});
                    })
                }else{
                    //769以下的樣子
                    $('.ShowMap').click(function(e) {
                        $('.mapPic').fadeToggle(500);
                    })
                    $('.mapPic').click(function(e) {
                        $('.mapPic').fadeToggle(500);
                    })
                }
            }
            pcShowMap();

            // loading
            setTimeout(function() {
                $('.loading').fadeOut(500);
            },1000);

            //點中LI增加active
            $(".bottomNav li").click(function() {
                $(".bottomNav li").removeClass("active");
                $(this).addClass("active");
            })
            //一開始li  active有效果
            $("#photBtn1").addClass('active');
        
            $(".banner").css("opacity","1").fadeTo("slow");
        })//jQuery

        //banner
        let banner = document.querySelector(".banner");
        let photBtn1 = document.querySelector("#photBtn1");
        let photBtn2 = document.querySelector("#photBtn2");
        let photBtn3 = document.querySelector("#photBtn3");
        //第一頁開始
        // let pageIdx = 1;
        //停止用
        let timeBox = null;

        const elements = document.querySelectorAll(".bottomNav li");

        photBtn1.addEventListener("click",showPhoto);
        photBtn2.addEventListener("click",showPhoto);
        photBtn3.addEventListener("click",showPhoto);

        let pageIdx = 1;
        // 點擊小圖換大圖
        function photoSwitch() {
            
            if(pageIdx<3){
                pageIdx++
            }else{
                pageIdx = 1;
            }

            $(".banner").css("background-image",`url(./images/space_bannerBig0${pageIdx}.png)`).fadeTo("slow");
            elements.forEach(ele => ele.classList.remove('active'));
            document.querySelector('#photBtn' + pageIdx).classList.toggle("active");
        }

        timeBox = setInterval(photoSwitch,2000);
        
        // let padgId = 1;
        // //點擊切換大圖函示
        function showPhoto(padgId) {
            //先暫停時間器
            clearInterval(timeBox);
            padgId = parseInt(this.id.substr(7));
            // console.log(padgId);
            $(".banner").css("background-image",`url(./images/space_bannerBig0${padgId}.png)`).fadeTo("slow");
            // banner.style.backgroundImage = `url(../images/space_bannerBig0${padgId}.png)`;
            timeBox = setInterval(photoSwitch,2000);
        }
        

        //手機板換圖
        let arroLight = document.querySelector(".arror_left");
        let arroRight = document.querySelector(".arror_right");

        arroRight.addEventListener("click",rightPhoto);
        arroLight.addEventListener("click",leftPhoto);

        let next = 0;

        function rightPhoto() {
            clearInterval(timeBox);
            // console.log(next);
            if( next < 3 ){
                next+=1;
            }else{
                next = 1;
            }
            $(".banner").css("background-image",`url(../images/space_bannerBig0${next}.png)`).fadeTo("slow");
            timeBox = setInterval(photoSwitch,2000);
        }
        function leftPhoto() {
            clearInterval(timeBox);
            console.log(next);
            if( next == 3 ){
                next-=1;
            }else if(next == 2 ){
                next-=1;
            }else if(next == 1 ){
                next = 3;
            }
            else if(next == 0 ){
                next = 3;
            }
            $(".banner").css("background-image",`url(../images/space_bannerBig0${next}.png)`).fadeTo("slow");
            timeBox = setInterval(photoSwitch,2000);
        }
        

        //手機選單
        let mobileBtn = document.querySelector(".mobileBtn");
        let main = document.querySelector(".main_index");
        let mobileMenu = document.querySelector(".mobile_menu");
        let mobileClose = document.querySelector(".mobileClose");

        mobileBtn.addEventListener("click",function(e) {
            main.style.transform = "translateX(-70%)";
            $(".mobile_menu").stop().animate({right:"0%"},500);
            mobileBtn.style.display = "none";
            $(".mobileClose").css("display","block");
        })
        // 關閉
        mobileClose.addEventListener("click",function(e) {
            main.style.transform = "translateX(0%)";
            $(".mobile_menu").stop().animate({right:"-85%"});
            mobileBtn.style.display = "block";
            $(".mobileClose").css("display","none");
        })
        //手機子選單
        $(".mobileMenuBtn1").click(function() {
            $(".mobileMenu1").slideToggle(500);
        })
        $(".mobileMenuBtn2").click(function() {
            $(".mobileMenu2").slideToggle(500);
        })
        $(".mobileMenuBtn3").click(function() {
            $(".mobileMenu3").slideToggle(500);
        })
    </script>
</body>
</html>