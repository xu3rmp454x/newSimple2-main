<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="./css/all.css">
    <link rel="shortcut icon" href="images/icon.ico" />
    <title>直心巷</title>
</head>
<body>
    <div class="loading">
        <img src="./images/loading.gif" alt="">
    </div>
    <div class="warp">
        <header>
            <h1 class="logo">直心巷</h1>
            <ul class="menu">
                <li>
                    <a href="javascript: void(0)" class="menubtn1">直心八德</a>
                    <ul class="menubtn1Show">
                        <li>
                            <a href="index.html">墅的發生</a>
                        </li>
                        <li>
                            <a href="page2.html">神隱交通</a>
                        </li>
                        <li>
                            <a href="page3.html">生活片段</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="javascript: void(0)" class="menubtn2">植心建築</a>
                    <ul class="menubtn2Show">
                        <li>
                            <a href="page4.html">張景堯築跡</a>
                        </li>
                        <li>
                            <a href="page5.html">群祥藝術家</a>
                        </li>
                        <li>
                            <a href="page6.html">國際俬別墅</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="javascript: void(0)" class="menubtn3">質心空間</a>
                    <ul class="menubtn3Show">
                        <li>
                            <a href="pager7.html">內在的風景</a>
                        </li>
                        <li>
                            <a href="page8.html">智慧型建築</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="page9.html" class="menubtn4">預約賞屋</a>
                </li>
            </ul>
            <a href="javascript: void(0)" class="mobileBtn"><i class="fas fa-bars"></i></a>
            <a href="javascript: void(0)" class="mobileClose"><i class="fas fa-times"></i></a>
        </header>
        <!-- 手機選單 -->
        <ul class="mobile_menu">
            <li>
                <a href="javascript: void(0)" class="mobileMenuBtn1">直心八德</a>
                <ul class="mobileMenu1">
                    <li>
                        <a href="index.html" class="mobileNav">墅的發生</a>
                    </li>
                    <li>
                        <a href="page2.html" class="mobileNav">神隱交通</a>
                    </li>
                    <li>
                        <a href="page3.html" class="mobileNav">生活片段</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="javascript: void(0)" class="mobileMenuBtn2">植心建築</a>
                <ul class="mobileMenu2">
                    <li>
                        <a href="page4.html" class="mobileNav">張景堯築跡</a>
                    </li>
                    <li>
                        <a href="page5.html" class="mobileNav">群祥藝術家</a>
                    </li>
                    <li>
                        <a href="page6.html" class="mobileNav">國際俬別墅</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="javascript: void(0)" class="mobileMenuBtn3">質心空間</a>
                <ul class="mobileMenu3">
                    <li>
                        <a href="pager7.html" class="mobileNav">內在的風景</a>
                    </li>
                    <li>
                        <a href="page8.html" class="mobileNav">智慧型建築</a>
                    </li>
                </ul>
            </li>
            <li><a href="page9.html">預約賞屋</a></li>
        </ul>
        <!-- 表尾 -->
        <main class="d-flex page3Main">
            <div class="page3Mask">
                <div class="page3BannetText">
                    <h2>一段</h2>
                    <h3>散步的旅行。</h3>   
                </div>
            </div>
            <div class="boxOver">
                <ul class="page3BannerBox d-flex">
                    <li class="page3Banner1"></li>
                    <li class="page3Banner2"></li>
                </ul>
            </div>
            <div class="aaa"></div>
            <ul class="d-flex page3_bottomNav">
                <li id="page3_photBtn1"><img src="./images/life_bannerSma01.png" alt="life_bannerSma01"></li>
                <li id="page3_photBtn2"><img src="./images/life_bannerSma02.png" alt="life_bannerSma02"></li>
                <li id="page3_photBtn3"><img src="./images/life_bannerSma03.png" alt="life_bannerSma03"></li>
                <li id="page3_photBtn4"><img src="./images/life_bannerSma04.png" alt="life_bannerSma04"></li>
                <li id="page3_photBtn5"><img src="./images/life_bannerSma05.png" alt="life_bannerSma05"></li>
            </ul>
        </main>
        <ul class="page3MpbileMain">
            <li>
                <img src="./images/life_bannerBig01.png" alt="">
                <div class="page3MpbileMainText">
                    <h2>一段</h2>
                    <h3>散步的旅行。</h3>
                </div>
            </li>
            <li>
                <img src="./images/life_bannerBig02-1.png" alt="">
                <div class="page3MpbileMainText">
                    <h2>關於</h2>
                    <h3>埤塘的慢活。</h3>
                </div>
            </li>
            <li>
                <img src="./images/life_bannerBig01-1.png" alt="">
                <div class="page3MpbileMainText">
                    <h2>牽手散步</h2>
                    <h3>去學校。</h3>
                </div>
            </li>
            <li>
                <img src="./images/life_bannerBig04-2.png" alt="">
                <div class="page3MpbileMainText">
                    <h2>每天</h2>
                    <h3>都有美的新發現。</h3>
                </div>
            </li>
            <li>
                <img src="./images/life_bannerBig05-2.png" alt="">
                <div class="page3MpbileMainText">
                    <h2>從心拾起</h2>
                    <h3>珍貴的片刻。</h3>
                </div>
            </li>
        </ul>
        <footer class="page3Footer">
            <div class="footer_nav d-flex align-items-center h-100">
                <ul class="d-flex align-items-center h-100">
                    <li><p>手作建築 國際別墅</p></li>
                    <li><p>120-150坪</p></li>
                    <li><span>訂房專線</span><a href="tel:+886-3-3653650">03-365-3650</a></li>
                    <li><p>豐田路255巷1號</p></li>
                    <li><a href="javascript: void(0)" class="ShowMap">MAP</a></li>
                </ul>
                <a href="javascript: void(0)" class="repalyBtn">REPALY</a>
            </div>
        </footer>
        <div class="mapPic">
            <img src="./images/mapPic.png" alt="地圖.png">
            <span class="btnConse"></span>
        </div>
    </div>
    <!-- warp -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- js部分 -->
    <script>
        // 滑過選單效果
        $(document).ready(function() {
            $('.menubtn1').mouseenter(function() {
                $('.menubtn1Show').slideToggle();
            })
            $('.menubtn1Show').mouseleave(function() {
                    $('.menubtn1Show').slideToggle();
            })
            $('.menubtn2').mouseenter(function() {
                $('.menubtn2Show').slideToggle();
            })
            $('.menubtn2Show').mouseleave(function() {
                    $('.menubtn2Show').slideToggle();
            })
            $('.menubtn3').mouseenter(function() {
                $('.menubtn3Show').slideToggle();
            })
            $('.menubtn3Show').mouseleave(function() {
                    $('.menubtn3Show').slideToggle();
            })
            //點中LI增加active
            $(".page3_bottomNav li img").click(function() {
            $(".page3_bottomNav li img").removeClass("active");
            $(this).addClass("active");
            })
            //一開始第一個li  active有效果
            $("#page3_photBtn1 img").addClass('active');
            let x =0;
            //點擊切換大圖片
            // let page3Banner1 = document.querySelector(".page3Banner1");
            // let page3Banner2 = document.querySelector(".page3Banner2");
            let NewLi = `<li class="js-bbb" style="background-image: url(../images/life_bannerBig04-3.png);width: 1029px;height: 684px;margin-left: 10px;"></li>`;

            let NewLi2 = `<li class="js-aaa" style="background-image: url(../images/life_bannerBig02-2.jpg);width: 875px;height: 583px;margin-left: 10px;"></li>`;
            
            $(".page3_bottomNav li").click(function() {
                const index = this.id.substr(13);
                //第四頁新增LI
                if(index == 1){
                    $(".page3Banner1").css("background-image","url(./images/life_bannerBig01.png)").stop(true).slideDown(500);
                    $(".page3Banner2").css("background-image","url(./images/life_bannerBig01-1.png)").stop(true).slideDown(500);
                    $(".js-bbb").remove();
                    $(".js-aaa").remove();
                    $(".page3BannetText > h2").text("一段");
                    $(".page3BannetText > h3").text("散步的旅行。");
                }else if(index ==2){
                    $(".page3Banner1").css("background-image","url(./images/life_bannerBig02.png)").stop(true).slideDown(500);
                    $(".page3Banner2").css("background-image","url(./images/life_bannerBig02-1.png)").stop(true).slideDown(500);
                    $(".js-bbb").remove();
                    liGo2();
                    $(".page3BannetText > h2").text("關於");
                    $(".page3BannetText > h3").text("埤塘的慢活。");
                }else if(index ==3){
                    $(".page3Banner1").css("background-image","url(./images/life_bannerBig03.png)").stop(true).slideDown(500);
                    $(".page3Banner2").css("background-image","url(./images/life_bannerBig03-1.png)").stop(true).slideDown(500);
                    $(".js-bbb").remove();
                    $(".js-aaa").remove();
                    $(".page3BannetText > h2").text("牽手散步");
                    $(".page3BannetText > h3").text("去學校。");
                }else if(index ==4){
                    $(".page3Banner1").css("background-image","url(./images/life_bannerBig04.png)").stop(true).slideDown(500);
                    $(".page3Banner2").css("background-image","url(./images/life_bannerBig04-2.png)").stop(true).slideDown(500);
                    liGo();
                    $(".page3BannetText > h2").text("每天");
                    $(".page3BannetText > h3").text("都有美的新發現");
                }else if(index == 5){
                    $(".page3Banner1").css("background-image","url(./images/life_bannerBig05.png)").stop(true).slideDown(500);
                    $(".page3Banner2").css("background-image","url(./images/life_bannerBig05-2.png)").stop(true).slideDown(500);
                    $(".js-bbb").remove();
                    $(".js-aaa").remove();
                    $(".page3BannetText > h2").text("從心拾起");
                    $(".page3BannetText > h3").text("珍貴的片刻。");
                }
            })
            
            //計算LI有幾個超過三個都不執行
            function liGo() {
                let liNum = $(".page3BannerBox > li").length;
                    if(liNum < 3){
                        $(".page3BannerBox").append(NewLi);
                    }else{
                        return;
                    }
            }
            //計算LI有幾個超過三個都不執行
            function liGo2() {
                let liNum = $(".page3BannerBox > li").length;
                console.log(liNum);
                    if(liNum < 3){
                        $(".page3BannerBox").append(NewLi2);
                    }else{
                        return;
                    }
            }
        // 手機及PC切換IMG
        let htmlWidth = $("html").width();
            //地圖
            function pcShowMap() {
                if(htmlWidth>769){
                    $('.ShowMap').click(function(e) {
                        // preventDefault();
                        $('.mapPic').animate({bottom:"10%"},500);
                    })
                    $('.btnConse').click(function(e) {
                        // preventDefault();
                        $('.mapPic').animate({bottom:"-50%"});
                    })
                }else{
                    //769以下的樣子
                    $('.ShowMap').click(function(e) {
                        $('.mapPic').fadeToggle(500);
                    })
                    $('.mapPic').click(function(e) {
                        $('.mapPic').fadeToggle(500);
                    })
                }
            }
            pcShowMap();
            // loading
            setTimeout(function() {
                $('.loading').fadeOut(500);
            },1000);
        })

        //大圖X軸變動
        // Math.random() * ( 最大値 - 最小値 + 1 )  + 最小値;
        
        const page3BannerBox = document.querySelector(".page3BannerBox");
        const aaa = document.querySelector(".aaa");

        aaa.addEventListener('mousemove',function(e) {
            // console.log(Math.floor(e.offsetX /100 ) * 10);
            // console.log(e.x);
            // const move = Math.floor((e.offsetX /7.6 *10 ));
            const move = Math.round(e.offsetX / 12.8);
            const move2 = Math.round(e.offsetX);
            // $(".page3BannerBox").stop(false).css("transform",`translateX(calc(-${move}% + ${move2}px))`);
            page3BannerBox.style.transform = `translateX(calc(-${move}% + ${move2}px))`;
            // page3BannerBox.style.left = `${move}% ${move2}px`;
            // console.log(`${move}% +${move2}px`);
            // page3BannerBox.style.left = `calc(-${move}% + ${move2}px)`;
            // console.log(page3BannerBox.style.transform = `translateX(calc(-${move}% + ${move2}px))`);
            // page3BannerBox.style.left = -move + "%";

        })


        // 手機板選單 <ul class="page3MpbileMain">

        let mobileBtn = document.querySelector(".mobileBtn");
        // let page3MpbileMain = document.querySelector(".page2Main");
        let mobileMenu = document.querySelector(".mobile_menu");
        let mobileClose = document.querySelector(".mobileClose");

        mobileBtn.addEventListener("click",function(e) {
            $(".mobile_menu").stop().animate({right:"0%"},500);
            $(".page3MpbileMain").stop().animate({left:"-70%"},500);
            mobileBtn.style.display = "none";
            $(".mobileClose").css("display","block");
        })
        // 關閉
        mobileClose.addEventListener("click",function(e) {
            $(".mobile_menu").stop().animate({right:"-85%"},500);
            $(".page3MpbileMain").stop().animate({left:"0%"},500);
            mobileBtn.style.display = "block";
            $(".mobileClose").css("display","none");
        })
        //手機子選單
        $(".mobileMenuBtn1").click(function() {
            $(".mobileMenu1").slideToggle(500);
        })
        $(".mobileMenuBtn2").click(function() {
            $(".mobileMenu2").slideToggle(500);
        })
        $(".mobileMenuBtn3").click(function() {
            $(".mobileMenu3").slideToggle(500);
        })
    </script>
</body>
</html>